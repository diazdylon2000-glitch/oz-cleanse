/* ======================================================
   Oz Cleanse — unified styles (top bar inline + mobile splash)
   ====================================================== */

/* Colors */
:root{
  --bg:#fff7f1;
  --ink:#334155;
  --muted:#64748b;
  --line:#f3d0e1;
  --rose:#ffe4ef;
  --lav:#e9d5ff;
  --peach:#ffd9cc;
  --accent:#ec4899;
  --glow:#ffa56e;
}

/* Base */
html,body{
  margin:0;padding:0;background:var(--bg);color:var(--ink);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  -webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;
  -webkit-text-size-adjust:100%;
}
*,*:before,*:after{ box-sizing:border-box }

/* Keep inputs at 16px to prevent iOS zoom */
input,select,textarea,button{ font-size:16px }

/* Container */
#root{ max-width:980px; margin:16px auto 110px; padding:0 16px }

/* Headings / cards */
h1,h2{ margin:0 0 8px }
h1{ font-size:24px; font-weight:800; letter-spacing:.2px }
h2{ font-size:18px; font-weight:700 }
.card{
  background:#fff; border:1px solid var(--line); border-radius:16px;
  box-shadow:0 8px 24px rgba(236,72,153,.08); padding:14px; margin:12px 0;
}

/* Badges / pills / controls */
.badge{ display:inline-block; border:1px solid var(--line); border-radius:9999px;
  padding:2px 8px; background:#fff; font-size:12px; color:var(--muted) }
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  border:1px solid var(--line); background:#fff; border-radius:14px;
  padding:8px 12px; cursor:pointer; transition:transform .12s, background .2s;
}
.btn.active{ background:var(--rose) }
.pill{ border:1px solid #ffd8be; background:#fff; border-radius:9999px; padding:.45rem .8rem }
.pill.on{ background:linear-gradient(90deg,#ffc79d,#ffd8be) }
.paw{
  display:inline-flex; align-items:center; justify-content:center; height:36px; width:36px;
  border:1px solid #f0cbb0; background:#fff; border-radius:9999px; cursor:pointer;
  transition:transform .12s, background .2s;
}
.paw.on{ background:linear-gradient(90deg,#f9d49a,#ffd2c8); transform:scale(1.02) }

/* Progress bar */
.prog{ height:10px; border-radius:9999px; background:#fde7e0; overflow:hidden }
.prog .fill{ height:100%; background:linear-gradient(90deg,var(--glow),var(--accent)) }

/* ======================================================
   Splash + Bubble (mobile friendly)
   ====================================================== */

.splash{
  position:fixed; inset:0; z-index:1000;
  display:flex; align-items:center; justify-content:center;
  background:#fef8f1;
}
.splash img{
  width: clamp(120px, 22vw, 190px);
  height: clamp(120px, 22vw, 190px);
  border-radius:9999px; object-fit:cover;
  border:6px solid #fff; box-shadow:0 22px 60px rgba(149,92,51,.25);
}

/* Bubble defaults to the *right* of Oz */
.bubble{
  position:fixed; z-index:1001;
  left:50%; top:50%;
  transform: translate(calc(50% + 16px), -50%);   /* center Oz, then shift bubble to the right */
  max-width:270px;
  background:#fff; color:var(--ink); border:2px solid var(--line);
  border-radius:16px; padding:10px 12px; line-height:1.25; font-size:13px;
  box-shadow:0 10px 32px rgba(236,72,153,.15);
}
.bubble:after{
  content:""; position:absolute; left:-12px; top:28px;
  border:10px solid transparent; border-right-color:var(--line);
}
.bubble:before{
  content:""; position:absolute; left:-10px; top:28px;
  border:10px solid transparent; border-right-color:#fff; z-index:1;
}

/* On narrow screens, place bubble *under* the photo and center it */
@media (max-width: 520px){
  .bubble{
    left:50%; top: calc(50% + 110px);             /* below Oz */
    transform: translate(-50%, 0);
    max-width:min(86vw, 420px);
  }
  .bubble:after, .bubble:before{ display:none; }
}
/* Fade helper (if app adds .fade-out) */
.fade-out{ opacity:0; pointer-events:none; transition:opacity .55s ease }

/* Error banner (id may be #err or #errorBanner depending on HTML) */
#err, #errorBanner{
  display:none; position:fixed; left:12px; right:12px; top:12px; z-index:1100;
  background:#fee2e2; color:#7f1d1d; border:1px solid #fecaca; border-radius:12px;
  padding:10px; font:14px system-ui;
}

/* ======================================================
   Top Bar (masthead) — single straight line
   ====================================================== */

/* Works with either: .mast .mastRow/.mastLeft or .mast .left */
.mast{
  background:linear-gradient(90deg,#fff,#fff7fb);
  border:1px solid var(--line); border-radius:20px;
  padding:12px 14px; margin:12px 0;
}
.mastRow{ display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:nowrap }
.mastLeft, .mast .left{ display:flex; align-items:center; gap:12px; min-width:0 }

.mast img{
  width:44px; height:44px; border-radius:9999px; object-fit:cover;
  border:3px solid #fff; box-shadow:0 2px 8px rgba(0,0,0,.08); flex:0 0 auto;
}
.mastTitle{ font-size:26px; font-weight:800; letter-spacing:.2px; white-space:nowrap; line-height:1 }
.mastPhase{ margin-top:2px; color:var(--muted); font-weight:700; letter-spacing:.6px; font-size:12px }

/* Day selector aligned *on the same row* */
.day-nav{ display:flex; align-items:center; gap:10px; flex:0 0 auto }
.day-btn{ height:36px; width:36px; border-radius:9999px; border:1px solid var(--line); background:#fff }
.day-label{
  display:inline-flex; align-items:center; justify-content:center;
  min-width:86px; height:52px; padding:6px 12px;
  border-radius:9999px; background:#fff; border:2px solid var(--line);
  font-size:20px; font-weight:800; white-space:nowrap;
}

/* Keep everything in one line on small screens by shrinking gracefully */
@media (max-width: 560px){
  .mast img{ width:40px; height:40px }
  .mastTitle{ font-size:22px }
  .day-label{ min-width:76px; height:48px; font-size:18px }
}

/* ======================================================
   Checklist / Coach / Lines / Inputs
   ====================================================== */

.list{ list-style:none; margin:0; padding:0 }
.item{ display:flex; align-items:center; gap:10px; padding:10px 0; border-bottom:1px solid var(--line) }
.item:last-child{ border-bottom:none }
.item label{ cursor:pointer }

.coachCard{
  background:linear-gradient(90deg,var(--rose),var(--lav));
  border:1px solid var(--line); border-radius:16px; padding:12px; cursor:pointer;
  display:flex; align-items:flex-start; gap:12px;
}
.coachPill{ display:inline-flex; align-items:center; gap:8px; font-weight:800 }
.coachTitle{ font-size:18px }
.coachHint{ color:var(--muted) }
.coachOut{
  margin-top:10px; background:#fff; border:1px solid var(--line);
  border-radius:12px; padding:10px; white-space:pre-line;
}

.noteArea{
  width:100%; min-height:110px; border:1px solid var(--line);
  border-radius:14px; padding:10px; resize:vertical; background:#fff;
}

.line{
  display:flex; justify-content:space-between; align-items:center;
  padding:6px 0; border-bottom:1px solid var(--line);
}
.line:last-child{ border-bottom:none }

input[type="number"]{
  width:120px; padding:8px; border:1px solid var(--line); border-radius:12px;
}

/* ======================================================
   Floating emoji dock
   ====================================================== */

.tabs{
  position:fixed; left:50%; transform:translateX(-50%);
  bottom:calc(env(safe-area-inset-bottom, 8px) + 8px);
  display:flex; gap:10px; background:rgba(255,255,255,.9);
  border:1px solid var(--line); border-radius:9999px;
  backdrop-filter:saturate(1.2) blur(6px);
  padding:8px 10px; z-index:900;
}
.tabs .btn{
  width:44px; height:44px; border-radius:9999px;
  display:inline-flex; align-items:center; justify-content:center; font-size:20px;
}
